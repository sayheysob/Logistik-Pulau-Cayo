<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>LPC Check Log</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="anggota.js"></script>
</head>
<body class="bg-gray-100">
  <main class="max-w-3xl mx-auto p-6">
    <label class="block mb-2 font-medium">Nama Anggota LPC</label>
    <select id="selectNama" class="w-full p-2 border rounded mb-6"></select>

    <div id="detailAnggota" class="space-y-4 hidden">
      <h2 class="text-xl font-bold" id="namaHeader"></h2>
      <p id="statusDuty" class="text-sm text-gray-600"></p>

      <div id="aktivitasTerakhir"></div>
    </div>
  </main>

  <script>
    const select = document.getElementById("selectNama");
    const detail = document.getElementById("detailAnggota");
    const namaHeader = document.getElementById("namaHeader");
    const statusDuty = document.getElementById("statusDuty");
    const aktivitasContainer = document.getElementById("aktivitasTerakhir");

    // Isi dropdown
    dataAnggota.forEach(a => {
      const opt = document.createElement("option");
      opt.value = a.nama;
      opt.textContent = a.nama;
      select.appendChild(opt);
    });

    // Saat nama dipilih
    select.addEventListener("change", () => {
      const selected = dataAnggota.find(a => a.nama === select.value);
      if (selected) {
        detail.classList.remove("hidden");
        namaHeader.textContent = selected.nama;
        statusDuty.textContent = `${selected.status} â€¢ ${selected.duty}`;
        
        // Tampilkan aktivitas
        aktivitasContainer.innerHTML = "";
        selected.aktivitas.forEach(act => {
          const div = document.createElement("div");
          div.className = "bg-white p-4 rounded shadow";
          div.innerHTML = `
            <p class="font-medium">${act.tanggal}</p>
            <p class="text-sm">Total Jam: ${act.total}</p>
            <p class="text-xs text-gray-500">${act.waktu}</p>
          `;
          aktivitasContainer.appendChild(div);
        });
      }
    });
  </script>
</body>
</html>
